<?xml version="1.0" encoding="UTF-8"?>

<project name="GadgetServer_Installer">

  <!-- DEFAULT PROPERTY VALUES -->
  <property name="as7.home" value="/Users/jeffyu/deploy/switchyard-as7-0.5" />
  <property name="deploy.dir" value="${as7.home}/standalone/deployments" />
  <property name="version" value="1.0.0-SNAPSHOT" />
  
  <target name="deploy" description="Deploys the Gadget Server">
    <echo message="Deploys the Gadget Server" />
    <copy file="modules/gadget-server-${version}.war" toFile="${deploy.dir}/gadget-server.war" overwrite="true" />
    <copy file="modules/gadget-web-${version}.war" toFile="${deploy.dir}/gadget-web.war" overwrite="true" />
    <copy file="modules/gadgets-${version}.war" toFile="${deploy.dir}/gadgets.war" overwrite="true" />
    <copy todir="${deploy.dir}" overwrite="true">
	     <fileset dir="datasource">
		   <include name="gs-h2-ds.xml" />
		 </fileset>
    </copy>
  </target>

  <target name="undeploy" description="Undeploys the Gadget Server">
	<echo message="Undeploys the Gadget Server" />
    <delete file="${deploy.dir}/gadget-server.war"/>
	<delete file="${deploy.dir}/gadget-web.war"/>
	<delete file="${deploy.dir}/gadgets.war"/>
	<delete file="${deploy.dir}/gs-h2-ds.xml"/>
  </target>   

</project>
 
